---
import Button from "../ui/button/Button.astro";
import { projects } from "../../data/projects";

interface Props {
  title?: string;
}

const { title } = Astro.props as Props;
---

<section class="w-full py-10">
  <div class="mx-auto max-w-6xl px-4">
    {title && (
      <h2 class="text-3xl md:text-4xl font-semibold text-center mb-10 text-foreground">
        {title}
      </h2>
    )}

    <div class="flex flex-col gap-6">
      {projects.map((p) => (
        <article class="card-surface p-6 md:p-8 relative">
          {/* Icono opcional */}
          {p.icon && (
            <div
              class="absolute right-6 top-6 text-[var(--accent)] [&>svg]:w-6 [&>svg]:h-6 opacity-80"
              set:html={p.icon}
            />
          )}

          {/* Título */}
          <h3 class="text-xl md:text-2xl font-semibold text-foreground m-0">
            {p.title}
          </h3>

          {/* Contexto del cliente (antes techStack) */}
          {p.techStack && (
            <p class="mt-1 text-sm text-[color:var(--color-text-muted)]">
              {p.techStack}
            </p>
          )}

          {/* Descripción */}
          <p class="mt-4 text-[color:var(--color-text-secondary)] max-w-3xl">
            {p.description}
          </p>

          {/* CTA */}
          {p.ctaText && p.ctaLink && (
            <div class="mt-6">
              <Button href={p.ctaLink} variant="secondary" size="sm">
                {p.ctaText}
              </Button>
            </div>
          )}
        </article>
      ))}
    </div>
  </div>
</section>
